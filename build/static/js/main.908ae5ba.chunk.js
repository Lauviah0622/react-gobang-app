(this["webpackJsonpreact-ttt-app"]=this["webpackJsonpreact-ttt-app"]||[]).push([[0],{21:function(t,n,e){},24:function(t,n,e){"use strict";e.r(n);var r=e(1),c=e(0),a=e(11),i=e.n(a),o=(e(21),e(15)),u=e(4),l=e(2),s=e(3);function d(){var t=Object(l.a)(["\n  pointer-events: none;\n  height: 100%;\n  display: grid;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  grid-template-rows: repeat(18, 30px);\n  grid-template-columns: repeat(18, 30px);\n  box-sizing: border-box;\n  & > div {\n    border-top: 1px solid black;\n    border-right: 1px solid black;\n  }\n\n  & > div:nth-of-type(18n + 1) {\n    /* border-bottom: 1px solid black; */\n    border-left: 1px solid black;\n  }\n\n  & > div:nth-last-of-type(-n + 18) {\n    border-bottom: 1px solid black;\n  }\n"]);return d=function(){return t},t}var b=s.a.div(d());function p(t){var n=t.rows,e=t.columns,c=Array((n-1)*(e-1)).fill("").map((function(t,n){return Object(r.jsx)("div",{},"brd-"+n)}));return Object(r.jsx)(b,{children:c})}var j=Object(c.createContext)();function f(){var t=Object(l.a)(["\n  position: relative;\n"]);return f=function(){return t},t}function x(){var t=Object(l.a)(["\n  display: flex;\n"]);return x=function(){return t},t}function h(){var t=Object(l.a)(["\n  width: 30px;\n  height: 30px;\n  position: relative;\n  padding: 5px;\n  font-size: 30px;\n  & > div {\n    pointer-events: none;\n    width: 100%;\n    height: 100%;\n    background-color: ",";\n    border: 1px solid transparent;\n    border-color: ",";\n    border-radius: 50%;\n  }\n\n  &:not([data-player]):hover > div {\n    border-color: pink;\n  }\n"]);return h=function(){return t},t}var v=Object(s.a)((function(t){var n=t.className,e=t.x,c=t.y,a=t.player;return Object(r.jsx)("div",{className:n,"data-x":e,"data-y":c,"data-player":a,children:Object(r.jsx)("div",{})})}))(h(),(function(t){return t.player?"black"===t.player?"#000":"white"===t.player?"#fff":void 0:"transparant"}),(function(t){return t.player&&"black"})),O=s.a.div(x());var m=Object(s.a)((function(t){var n=t.className,e=t.placeChess,a=t.chessChart,i=t.checkWin,o=Object(c.useContext)(j),u=a.map((function(t,n){var e=t.map((function(t,e){return Object(r.jsx)(v,{x:e,y:n,player:t},"cell- + [".concat(e,", ").concat(n,"]"))}));return Object(r.jsx)(O,{children:e},"row-"+n)}));return Object(c.useEffect)(i,[a]),Object(r.jsxs)("div",{className:n,children:[Object(r.jsx)(p,{rows:o.rowsNum,columns:o.columnsNum}),Object(r.jsx)("div",{onClick:function(t){t.target.getAttribute("data-player")||e(t.target.getAttribute("data-x"),t.target.getAttribute("data-y"))},children:u})]})}))(f());function y(){var t=Object(l.a)(["\n  display: inline-block;\n  border: 1px solid black;\n  border-radius: 5px;\n  margin: 5px;\n"]);return y=function(){return t},t}function g(){var t=Object(l.a)(["\n  margin: 50px auto;\n  width: 600px;\n"]);return g=function(){return t},t}var k=s.a.div(g()),C=function(t){return Array(19).fill(null).map((function(n,e){return Array(19).fill(null).map((function(n,r){var c=null;return t.forEach((function(t){return t.x===r&&t.y===e&&(c=t.player)})),c}))}))},w=Object(s.a)((function(t){var n=t.record,e=t.index,c=t.className;return Object(r.jsxs)("div",{className:c,"date-record-id":e,children:["\u7b2c",e,"\u624b",Object(r.jsx)("br",{}),n.player,"\uff1a","".concat(n.x,", ").concat(n.y)]})}))(y());var N=function(){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),e=n[0],a=n[1],i=Object(c.useState)([]),l=Object(u.a)(i,2),s=l[0],d=l[1],b=Object(c.useState)(null),p=Object(u.a)(b,2),f=p[0],x=p[1],h=Object(c.useState)({current:"black",next:"white"}),v=Object(u.a)(h,2),O=v[0],y=v[1],g=s.map((function(t,n){return Object(r.jsx)(w,{record:t,index:n},"recordBtn-".concat(n))}));return Object(r.jsx)(j.Provider,{value:{rowsNum:19,columnsNum:19},children:Object(r.jsxs)(k,{children:[Object(r.jsxs)("header",{children:[e||Object(r.jsx)("h3",{children:"Press Start to Start Game"}),e&&Object(r.jsxs)("h3",{children:["Current Player: ",O.current,", Next Player:"," ",O.next]}),Object(r.jsxs)("h3",{children:[f||"No body"," is win"]}),e||Object(r.jsx)("button",{onClick:function(){a(!0),d([]),x(null)},children:"Start"}),e&&Object(r.jsx)("button",{onClick:function(){x(O.next),d([]),a(!1)},children:"Surrender"})]}),Object(r.jsx)(m,{placeChess:function(t,n){e&&(y({current:O.next,next:O.current}),d([].concat(Object(o.a)(s),[{x:+t,y:+n,player:O.current}])))},chessChart:C(s),checkWin:function(){if(e){var t=[];C(s).forEach((function(n,e){n.forEach((function(n,r){n===O.next&&t.push([r,e])}))}));var n=!1;t.forEach((function(t,e,r){for(var c=function(t){var n=Object(u.a)(t,2),e=n[0],c=n[1];return r.reduce((function(t,n){return t||n[0]===e&&n[1]===c}),!1)},a=[[1,0],[0,1],[1,1],[-1,1]].map((function(n){return{rootChess:t,dir:n,cell:[t[0]+n[0],t[1]+n[1]]}})),i=0;i<4;i++){var o=a.filter((function(t){return c(t.cell)})).map((function(t){t.rootchess;var n=t.dir,e=t.cell;return{rootChess:e,dir:n,cell:[e[0]+n[0],e[1]+n[1]]}}));if(a=o,o.length<=0)break}a.length>0&&(n=!0)})),n&&(a(!1),x(O.next))}}}),Object(r.jsx)("footer",{onClick:function(t){var n;t.target.getAttribute("date-record-id")&&(n=t.target.getAttribute("date-record-id"),d(s.slice(0,+n+1)),O.next!==s[+n].player&&y({current:O.next,next:O.current}))},children:g})]})})},S=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,25)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;e(t),r(t),c(t),a(t),i(t)}))};i.a.render(Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(N,{})}),document.getElementById("root")),S()}},[[24,1,2]]]);
//# sourceMappingURL=main.908ae5ba.chunk.js.map